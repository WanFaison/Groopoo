<div class="container-fluid min-vh-100">
    <app-nav></app-nav>

    <div class="mt-5 row justify-content-center align-items-center h-100">
        <div class="flex-center">
            <h3 class="underline-bold">Creer une liste de groupe</h3>
        </div>
        <div class="flex-column w-75">
            <h5 class="mt-5">Televerser un fichier excel</h5>
            <div *ngIf="error" class="my-1">
                <p class="fw-bold text-danger">Erreur de la liste fournit </p>
            </div>

            <div class="my-1">
                <p class="fw-bold">{{fileName}}</p>
            </div>
            <div class="d-flex">
                <div class="file-upload w-50 mb-2">
                    <div class="file-select">
                      <div class="file-select-button" id="fileName">Choose File</div>
                      <div class="file-select-name" id="noFile">No file chosen...</div> 
                      <input type="file" (change)="onFileSelected($event)" name="chooseFile" id="chooseFile">
                    </div>
                </div>
                <div *ngIf="user?.role == 'ROLE_ADMIN'" class="input-group col-md-2">
                    <select [(ngModel)]="ecole" (ngModelChange)="saveEcole($event)" class="form-select form-select-sm" aria-label=".form-select-sm example">
                      <option selected value="0">Choisir l'ecole...</option>
                      <option *ngFor="let item of ecoleResponse?.results" [value]="item.id">{{ item.libelle }}</option>
                    </select>
                </div>
                <div class="input-group col-md-2">
                    <select [(ngModel)]="annee" (ngModelChange)="saveAnnee($event)" class="form-select form-select-sm" aria-label=".form-select-sm example">
                      <option selected value="0">Choisir l'ann√©e...</option>
                      <option *ngFor="let item of anneeResponse?.results" [value]="item.id">{{ item.libelle }}</option>
                    </select>
                </div>
            </div>
            <div class="d-flex">
                <a id="orange-btn" class="btn btn-orange col-md-2 me-2" 
                [class.disabled]="ecole === 0 || !fileName.trim() || annee == 0"
                (click)="onSubmit()" role="button">Importer Liste</a>
                <a (click)="printTemplate()" class="btn btn-info col-md-2 text-white" 
                role="button">Import template</a>
            </div>
        </div>

        <hr class="w-75 mx-auto simple-line mt-3">

        <div class="flex-column w-75">
            <h5 class="mt-20">Choisir une liste existante</h5>
            <div class="dropdown my-2">
                <button class="btn btn-white border border-secondary dropdown-toggle w-50 text-start" type="button" id="dropdownMenuButton" data-bs-toggle="dropdown" aria-expanded="false">
                    Selectionner une liste
                </button>
                <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                  <li><a class="dropdown-item" href="#">Liste 1</a></li>
                </ul>
            </div>
            <a class="btn btn-orange col-md-1" href="#" role="button">
                Valider
            </a>
        </div>
    </div>

    <app-foot></app-foot>
</div>

